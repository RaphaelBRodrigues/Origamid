{"ast":null,"code":"import _regeneratorRuntime from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import styles from'./photos.module.css';import PhotosItem from'./PhotosItem';import useFetch from'../../../Hooks/useFetch';import Error from'../../../Components/Helper/Error';import{PHOTOS_GET}from'../../../api';import Loading from'../../Helper/Loading';function Photos(_ref){var setModalPhoto=_ref.setModalPhoto,user=_ref.user,page=_ref.page,setInfinite=_ref.setInfinite;var _useFetch=useFetch(),data=_useFetch.data,loading=_useFetch.loading,error=_useFetch.error,request=_useFetch.request;React.useEffect(function(){function fetchPhotos(){return _fetchPhotos.apply(this,arguments);}function _fetchPhotos(){_fetchPhotos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var total,_PHOTOS_GET,url,options,_yield$request,resp,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:total=3;_PHOTOS_GET=PHOTOS_GET({page:page,total:total,user:user||0}),url=_PHOTOS_GET.url,options=_PHOTOS_GET.options;_context.next=4;return request(url,options);case 4:_yield$request=_context.sent;resp=_yield$request.resp;json=_yield$request.json;if(resp&&resp.ok&&json.length<total){setInfinite(false);}case 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchPhotos.apply(this,arguments);}fetchPhotos();},[request,page]);if(error)return/*#__PURE__*/_jsx(Error,{});if(loading)return/*#__PURE__*/_jsx(Loading,{});if(data)return/*#__PURE__*/_jsx(\"ul\",{className:\"\".concat(styles.feed,\" animeLeft\"),children:data.map(function(photo){return/*#__PURE__*/_jsx(PhotosItem,{photo:photo,setModalPhoto:setModalPhoto},photo.id);})});else{return null;}}export default Photos;","map":{"version":3,"sources":["/home/raphael/Desktop/Origamid/React/ProjetoDogs/src/Components/Feed/Photos/index.js"],"names":["React","styles","PhotosItem","useFetch","Error","PHOTOS_GET","Loading","Photos","setModalPhoto","user","page","setInfinite","data","loading","error","request","useEffect","fetchPhotos","total","url","options","resp","json","ok","length","feed","map","photo","id"],"mappings":"sXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,kCAAlB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CAEA,QAASC,CAAAA,MAAT,MAA4D,IAA1CC,CAAAA,aAA0C,MAA1CA,aAA0C,CAA3BC,IAA2B,MAA3BA,IAA2B,CAArBC,IAAqB,MAArBA,IAAqB,CAAfC,WAAe,MAAfA,WAAe,eAChBR,QAAQ,EADQ,CAClDS,IADkD,WAClDA,IADkD,CAC5CC,OAD4C,WAC5CA,OAD4C,CACnCC,KADmC,WACnCA,KADmC,CAC5BC,OAD4B,WAC5BA,OAD4B,CAG1Df,KAAK,CAACgB,SAAN,CAAgB,UAAM,SACLC,CAAAA,WADK,2IACpB,8LACQC,KADR,CACgB,CADhB,aAE2Bb,UAAU,CAAC,CAClCK,IAAI,CAAJA,IADkC,CAElCQ,KAAK,CAALA,KAFkC,CAGlCT,IAAI,CAAEA,IAAI,EAAI,CAHoB,CAAD,CAFrC,CAEUU,GAFV,aAEUA,GAFV,CAEeC,OAFf,aAEeA,OAFf,uBAO+BL,CAAAA,OAAO,CAACI,GAAD,CAAMC,OAAN,CAPtC,qCAOUC,IAPV,gBAOUA,IAPV,CAOgBC,IAPhB,gBAOgBA,IAPhB,CAQE,GAAID,IAAI,EAAIA,IAAI,CAACE,EAAb,EAAmBD,IAAI,CAACE,MAAL,CAAcN,KAArC,CAA4C,CAC1CP,WAAW,CAAC,KAAD,CAAX,CACD,CAVH,sDADoB,8CAapBM,WAAW,GACZ,CAdD,CAcG,CAACF,OAAD,CAAUL,IAAV,CAdH,EAeA,GAAII,KAAJ,CAAW,mBAAO,KAAC,KAAD,IAAP,CACX,GAAID,OAAJ,CAAa,mBAAO,KAAC,OAAD,IAAP,CACb,GAAID,IAAJ,CACE,mBACE,WAAI,SAAS,WAAKX,MAAM,CAACwB,IAAZ,cAAb,UACGb,IAAI,CAACc,GAAL,CAAS,SAACC,KAAD,CAAW,CACnB,mBACE,KAAC,UAAD,EAEE,KAAK,CAAEA,KAFT,CAGE,aAAa,CAAEnB,aAHjB,EACOmB,KAAK,CAACC,EADb,CADF,CAOD,CARA,CADH,EADF,CADF,IAcK,CACH,MAAO,KAAP,CACD,CACF,CAED,cAAerB,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport styles from './photos.module.css';\nimport PhotosItem from './PhotosItem';\nimport useFetch from '../../../Hooks/useFetch';\nimport Error from '../../../Components/Helper/Error';\nimport { PHOTOS_GET } from '../../../api';\nimport Loading from '../../Helper/Loading';\n\nfunction Photos({ setModalPhoto, user, page, setInfinite }) {\n  const { data, loading, error, request } = useFetch();\n\n  React.useEffect(() => {\n    async function fetchPhotos() {\n      const total = 3;\n      const { url, options } = PHOTOS_GET({\n        page,\n        total,\n        user: user || 0,\n      });\n      const { resp, json } = await request(url, options);\n      if (resp && resp.ok && json.length < total) {\n        setInfinite(false);\n      }\n    }\n    fetchPhotos();\n  }, [request, page]);\n  if (error) return <Error />;\n  if (loading) return <Loading />;\n  if (data)\n    return (\n      <ul className={`${styles.feed} animeLeft`}>\n        {data.map((photo) => {\n          return (\n            <PhotosItem\n              key={photo.id}\n              photo={photo}\n              setModalPhoto={setModalPhoto}\n            />\n          );\n        })}\n      </ul>\n    );\n  else {\n    return null;\n  }\n}\n\nexport default Photos;\n"]},"metadata":{},"sourceType":"module"}