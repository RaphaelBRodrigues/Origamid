{"ast":null,"code":"import _slicedToArray from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React from'react';import{Link}from'react-router-dom';import style from'./comments.module.css';import{UserContext}from'../../../UserContext';import Form from'./Form';function PhotoComments(props){var _React$useState=React.useState(function(){return props.comments;}),_React$useState2=_slicedToArray(_React$useState,2),comments=_React$useState2[0],setComments=_React$useState2[1];var commentsSection=React.useRef(null);var _React$useContext=React.useContext(UserContext),isLogged=_React$useContext.isLogged;React.useEffect(function(){commentsSection.current.scrollTop=commentsSection.current.height;},[comments]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"ul\",{ref:commentsSection,className:\"\".concat(style.comments,\" \").concat(props.single?style.single:''),children:comments.map(function(comment){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[comment.comment_author,\":\"]}),/*#__PURE__*/_jsx(\"span\",{children:comment.comment_content})]},comment.comment_ID);})}),isLogged&&/*#__PURE__*/_jsx(Form,{single:props.single,setComments:setComments,id:props.id})]});}export default PhotoComments;","map":{"version":3,"sources":["/home/raphael/Desktop/Origamid/React/ProjetoDogs/src/Components/Photo/Comments/index.js"],"names":["React","Link","style","UserContext","Form","PhotoComments","props","useState","comments","setComments","commentsSection","useRef","useContext","isLogged","useEffect","current","scrollTop","height","single","map","comment","comment_author","comment_content","comment_ID","id"],"mappings":"oTAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,OAASC,WAAT,KAA4B,sBAA5B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,qBACIN,KAAK,CAACO,QAAN,CAAe,iBAAMD,CAAAA,KAAK,CAACE,QAAZ,EAAf,CADJ,oDACrBA,QADqB,qBACXC,WADW,qBAE5B,GAAMC,CAAAA,eAAe,CAAGV,KAAK,CAACW,MAAN,CAAa,IAAb,CAAxB,CAF4B,sBAGPX,KAAK,CAACY,UAAN,CAAiBT,WAAjB,CAHO,CAGpBU,QAHoB,mBAGpBA,QAHoB,CAK5Bb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBJ,eAAe,CAACK,OAAhB,CAAwBC,SAAxB,CAAoCN,eAAe,CAACK,OAAhB,CAAwBE,MAA5D,CACD,CAFD,CAEG,CAACT,QAAD,CAFH,EAIA,mBACE,wCACE,WACE,GAAG,CAAEE,eADP,CAEE,SAAS,WAAKR,KAAK,CAACM,QAAX,aAAuBF,KAAK,CAACY,MAAN,CAAehB,KAAK,CAACgB,MAArB,CAA8B,EAArD,CAFX,UAIGV,QAAQ,CAACW,GAAT,CAAa,SAACC,OAAD,qBACZ,mCACE,qBAAIA,OAAO,CAACC,cAAZ,OADF,cAEE,sBAAOD,OAAO,CAACE,eAAf,EAFF,GAASF,OAAO,CAACG,UAAjB,CADY,EAAb,CAJH,EADF,CAYGV,QAAQ,eACP,KAAC,IAAD,EAAM,MAAM,CAAEP,KAAK,CAACY,MAApB,CAA4B,WAAW,CAAET,WAAzC,CAAsD,EAAE,CAAEH,KAAK,CAACkB,EAAhE,EAbJ,GADF,CAkBD,CAED,cAAenB,CAAAA,aAAf","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport style from './comments.module.css';\nimport { UserContext } from '../../../UserContext';\nimport Form from './Form';\n\nfunction PhotoComments(props) {\n  const [comments, setComments] = React.useState(() => props.comments);\n  const commentsSection = React.useRef(null);\n  const { isLogged } = React.useContext(UserContext);\n\n  React.useEffect(() => {\n    commentsSection.current.scrollTop = commentsSection.current.height;\n  }, [comments]);\n\n  return (\n    <>\n      <ul\n        ref={commentsSection}\n        className={`${style.comments} ${props.single ? style.single : ''}`}\n      >\n        {comments.map((comment) => (\n          <li key={comment.comment_ID}>\n            <b>{comment.comment_author}:</b>\n            <span>{comment.comment_content}</span>\n          </li>\n        ))}\n      </ul>\n      {isLogged && (\n        <Form single={props.single} setComments={setComments} id={props.id} />\n      )}\n    </>\n  );\n}\n\nexport default PhotoComments;\n"]},"metadata":{},"sourceType":"module"}