{"ast":null,"code":"import _regeneratorRuntime from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import style from'./form.module.css';import{ReactComponent as Enviar}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../../Assets/enviar.svg\";import useFetch from'../../../../Hooks/useFetch';import{COMMENT_POST}from'../../../../api';import Error from'../../../Helper/Error';function Form(_ref){var id=_ref.id,setComments=_ref.setComments,single=_ref.single;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),comment=_React$useState2[0],setComment=_React$useState2[1];var _useFetch=useFetch(),request=_useFetch.request,error=_useFetch.error;function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _COMMENT_POST,url,options,_yield$request,resp,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_COMMENT_POST=COMMENT_POST(id,{comment:comment}),url=_COMMENT_POST.url,options=_COMMENT_POST.options;_context.next=4;return request(url,options);case 4:_yield$request=_context.sent;resp=_yield$request.resp;json=_yield$request.json;if(resp.ok){setComments(function(comments){setComment('');return[].concat(_toConsumableArray(comments),[json]);});}case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"\".concat(style.form,\" \").concat(single?style.single:''),children:[/*#__PURE__*/_jsx(\"textarea\",{className:style.textarea,id:\"comment\",name:\"comment\",placeholder:\"Comente..\",value:comment,onChange:function onChange(_ref2){var target=_ref2.target;return setComment(target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:style.button,children:/*#__PURE__*/_jsx(Enviar,{})}),/*#__PURE__*/_jsx(Error,{error:error})]});}export default Form;","map":{"version":3,"sources":["/home/raphael/Desktop/Origamid/React/ProjetoDogs/src/Components/Photo/Comments/Form/index.js"],"names":["React","style","useFetch","COMMENT_POST","Error","Form","id","setComments","single","useState","comment","setComment","request","error","handleSubmit","event","preventDefault","url","options","resp","json","ok","comments","form","textarea","target","value","button"],"mappings":"yvBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,C,wGAEA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,OAASC,YAAT,KAA6B,iBAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CAEA,QAASC,CAAAA,IAAT,MAA2C,IAA3BC,CAAAA,EAA2B,MAA3BA,EAA2B,CAAvBC,WAAuB,MAAvBA,WAAuB,CAAVC,MAAU,MAAVA,MAAU,qBACXR,KAAK,CAACS,QAAN,CAAe,EAAf,CADW,oDAClCC,OADkC,qBACzBC,UADyB,mCAEdT,QAAQ,EAFM,CAEjCU,OAFiC,WAEjCA,OAFiC,CAExBC,KAFwB,WAExBA,KAFwB,SAI1BC,CAAAA,YAJ0B,gJAIzC,iBAA4BC,KAA5B,yKACEA,KAAK,CAACC,cAAN,GADF,cAE2Bb,YAAY,CAACG,EAAD,CAAK,CAAEI,OAAO,CAAPA,OAAF,CAAL,CAFvC,CAEUO,GAFV,eAEUA,GAFV,CAEeC,OAFf,eAEeA,OAFf,uBAG+BN,CAAAA,OAAO,CAACK,GAAD,CAAMC,OAAN,CAHtC,qCAGUC,IAHV,gBAGUA,IAHV,CAGgBC,IAHhB,gBAGgBA,IAHhB,CAIE,GAAID,IAAI,CAACE,EAAT,CAAa,CACXd,WAAW,CAAC,SAACe,QAAD,CAAc,CACxBX,UAAU,CAAC,EAAD,CAAV,CACA,mCAAWW,QAAX,GAAqBF,IAArB,GACD,CAHU,CAAX,CAID,CATH,sDAJyC,+CAezC,mBACE,cACE,QAAQ,CAAEN,YADZ,CAEE,SAAS,WAAKb,KAAK,CAACsB,IAAX,aAAmBf,MAAM,CAAGP,KAAK,CAACO,MAAT,CAAkB,EAA3C,CAFX,wBAIE,iBACE,SAAS,CAAEP,KAAK,CAACuB,QADnB,CAEE,EAAE,CAAC,SAFL,CAGE,IAAI,CAAC,SAHP,CAIE,WAAW,CAAC,WAJd,CAKE,KAAK,CAAEd,OALT,CAME,QAAQ,CAAE,4BAAGe,CAAAA,MAAH,OAAGA,MAAH,OAAgBd,CAAAA,UAAU,CAACc,MAAM,CAACC,KAAR,CAA1B,EANZ,EAJF,cAYE,eAAQ,SAAS,CAAEzB,KAAK,CAAC0B,MAAzB,uBACE,KAAC,MAAD,IADF,EAZF,cAeE,KAAC,KAAD,EAAO,KAAK,CAAEd,KAAd,EAfF,GADF,CAmBD,CAED,cAAeR,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport style from './form.module.css';\nimport { ReactComponent as Enviar } from '../../../../Assets/enviar.svg';\nimport useFetch from '../../../../Hooks/useFetch';\nimport { COMMENT_POST } from '../../../../api';\nimport Error from '../../../Helper/Error';\n\nfunction Form({ id, setComments, single }) {\n  const [comment, setComment] = React.useState('');\n  const { request, error } = useFetch();\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const { url, options } = COMMENT_POST(id, { comment });\n    const { resp, json } = await request(url, options);\n    if (resp.ok) {\n      setComments((comments) => {\n        setComment('');\n        return [...comments, json];\n      });\n    }\n  }\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className={`${style.form} ${single ? style.single : ''}`}\n    >\n      <textarea\n        className={style.textarea}\n        id=\"comment\"\n        name=\"comment\"\n        placeholder=\"Comente..\"\n        value={comment}\n        onChange={({ target }) => setComment(target.value)}\n      />\n      <button className={style.button}>\n        <Enviar />\n      </button>\n      <Error error={error} />\n    </form>\n  );\n}\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}