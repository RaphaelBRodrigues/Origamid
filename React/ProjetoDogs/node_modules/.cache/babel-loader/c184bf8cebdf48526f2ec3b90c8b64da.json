{"ast":null,"code":"import _regeneratorRuntime from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import Input from'../../../../Components/Form/Input';import Button from'../../../../Components/Form/Button';import Error from'../../../../Components/Helper/Error';import useForm from'../../../../Hooks/useForm';import useFetch from'../../../../Hooks/useFetch';import{PASSWORD_RESET}from'../../../../api';import{useNavigate}from'react-router-dom';function LoginPasswordReset(){var reset=useForm();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),login=_React$useState2[0],setLogin=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),key=_React$useState4[0],setKey=_React$useState4[1];var _useFetch=useFetch(),request=_useFetch.request,loading=_useFetch.loading,error=_useFetch.error;var navigate=useNavigate();React.useState(function(){var params=URLSearchParams(window.location.search);var key=params.get('key');if(key){setKey(key);}if(login){setKey(login);}},[]);function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _PASSWORD_RESET,url,options,_yield$request,resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_PASSWORD_RESET=PASSWORD_RESET({login:login,key:key}),url=_PASSWORD_RESET.url,options=_PASSWORD_RESET.options;_context.next=4;return request(url,options);case 4:_yield$request=_context.sent;resp=_yield$request.resp;if(resp.ok){navigate('/login');}case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Reset a senha\"}),/*#__PURE__*/_jsx(Input,{label:\"Nova senha\",type:\"passwordd\",name:\"password\"}),/*#__PURE__*/_jsx(Button,{children:\"Resetar\"})]});}export default LoginPasswordReset;","map":{"version":3,"sources":["/home/raphael/Desktop/Origamid/React/ProjetoDogs/src/Pages/Login/Components/LoginPasswordReset/index.js"],"names":["React","Input","Button","Error","useForm","useFetch","PASSWORD_RESET","useNavigate","LoginPasswordReset","reset","useState","login","setLogin","key","setKey","request","loading","error","navigate","params","URLSearchParams","window","location","search","get","handleSubmit","e","preventDefault","url","options","resp","ok"],"mappings":"0kBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,mCAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oCAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qCAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,OAASC,cAAT,KAA+B,iBAA/B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,QAASC,CAAAA,kBAAT,EAA8B,CAC5B,GAAMC,CAAAA,KAAK,CAAGL,OAAO,EAArB,CAD4B,oBAEFJ,KAAK,CAACU,QAAN,CAAe,EAAf,CAFE,oDAErBC,KAFqB,qBAEdC,QAFc,0CAGNZ,KAAK,CAACU,QAAN,CAAe,EAAf,CAHM,qDAGrBG,GAHqB,qBAGhBC,MAHgB,mCAIQT,QAAQ,EAJhB,CAIpBU,OAJoB,WAIpBA,OAJoB,CAIXC,OAJW,WAIXA,OAJW,CAIFC,KAJE,WAIFA,KAJE,CAK5B,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEAP,KAAK,CAACU,QAAN,CAAe,UAAM,CACnB,GAAMS,CAAAA,MAAM,CAAGC,eAAe,CAACC,MAAM,CAACC,QAAP,CAAgBC,MAAjB,CAA9B,CACA,GAAMV,CAAAA,GAAG,CAAGM,MAAM,CAACK,GAAP,CAAW,KAAX,CAAZ,CAEA,GAAIX,GAAJ,CAAS,CACPC,MAAM,CAACD,GAAD,CAAN,CACD,CACD,GAAIF,KAAJ,CAAW,CACTG,MAAM,CAACH,KAAD,CAAN,CACD,CACF,CAVD,CAUG,EAVH,EAP4B,QAmBbc,CAAAA,YAnBa,gJAmB5B,iBAA4BC,CAA5B,sKACEA,CAAC,CAACC,cAAF,GADF,gBAE2BrB,cAAc,CAAC,CACtCK,KAAK,CAALA,KADsC,CAEtCE,GAAG,CAAHA,GAFsC,CAAD,CAFzC,CAEUe,GAFV,iBAEUA,GAFV,CAEeC,OAFf,iBAEeA,OAFf,uBAMyBd,CAAAA,OAAO,CAACa,GAAD,CAAMC,OAAN,CANhC,qCAMUC,IANV,gBAMUA,IANV,CAOE,GAAIA,IAAI,CAACC,EAAT,CAAa,CACXb,QAAQ,CAAC,QAAD,CAAR,CACD,CATH,sDAnB4B,+CA8B5B,mBACE,cAAM,QAAQ,CAAEO,YAAhB,wBACE,WAAI,SAAS,CAAC,OAAd,2BADF,cAEE,KAAC,KAAD,EAAO,KAAK,CAAC,YAAb,CAA0B,IAAI,CAAC,WAA/B,CAA2C,IAAI,CAAC,UAAhD,EAFF,cAGE,KAAC,MAAD,sBAHF,GADF,CAOD,CAED,cAAejB,CAAAA,kBAAf","sourcesContent":["import React from 'react';\nimport Input from '../../../../Components/Form/Input';\nimport Button from '../../../../Components/Form/Button';\nimport Error from '../../../../Components/Helper/Error';\nimport useForm from '../../../../Hooks/useForm';\nimport useFetch from '../../../../Hooks/useFetch';\nimport { PASSWORD_RESET } from '../../../../api';\nimport { useNavigate } from 'react-router-dom';\n\nfunction LoginPasswordReset() {\n  const reset = useForm();\n  const [login, setLogin] = React.useState('');\n  const [key, setKey] = React.useState('');\n  const { request, loading, error } = useFetch();\n  const navigate = useNavigate();\n\n  React.useState(() => {\n    const params = URLSearchParams(window.location.search);\n    const key = params.get('key');\n\n    if (key) {\n      setKey(key);\n    }\n    if (login) {\n      setKey(login);\n    }\n  }, []);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const { url, options } = PASSWORD_RESET({\n      login,\n      key,\n    });\n    const { resp } = await request(url, options);\n    if (resp.ok) {\n      navigate('/login');\n    }\n  }\n  return (\n    <form onSubmit={handleSubmit}>\n      <h1 className=\"title\">Reset a senha</h1>\n      <Input label=\"Nova senha\" type=\"passwordd\" name=\"password\" />\n      <Button>Resetar</Button>\n    </form>\n  );\n}\n\nexport default LoginPasswordReset;\n"]},"metadata":{},"sourceType":"module"}