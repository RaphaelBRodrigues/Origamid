{"ast":null,"code":"import _regeneratorRuntime from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';var useFetch=function useFetch(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),loading=_React$useState6[0],setLoading=_React$useState6[1];var request=React.useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url,options){var resp,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:resp=null;json=null;_context.prev=2;setError(null);setLoading(true);_context.next=7;return fetch(url,options);case 7:resp=_context.sent;_context.next=10;return resp.json();case 10:json=_context.sent;if(resp.ok){_context.next=13;break;}throw new Error(json.message);case 13:_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](2);json=null;setError(_context.t0.message);case 19:_context.prev=19;setLoading(false);setData(json);return _context.abrupt(\"return\",{resp:resp,json:json});case 24:case\"end\":return _context.stop();}}},_callee,null,[[2,15,19,24]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[]);return{data:data,loading:loading,error:error,request:request};};export default useFetch;","map":{"version":3,"sources":["/home/raphael/Desktop/Origamid/React/ProjetoDogs/src/Hooks/useFetch.js"],"names":["React","useFetch","useState","data","setData","error","setError","loading","setLoading","request","useCallback","url","options","resp","json","fetch","ok","Error","message"],"mappings":"kfAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,qBACGD,KAAK,CAACE,QAAN,CAAe,IAAf,CADH,oDACdC,IADc,qBACRC,OADQ,0CAEKJ,KAAK,CAACE,QAAN,CAAe,IAAf,CAFL,qDAEdG,KAFc,qBAEPC,QAFO,0CAGSN,KAAK,CAACE,QAAN,CAAe,IAAf,CAHT,qDAGdK,OAHc,qBAGLC,UAHK,qBAKrB,GAAMC,CAAAA,OAAO,CAAGT,KAAK,CAACU,WAAN,0FAAkB,iBAAOC,GAAP,CAAYC,OAAZ,gIAC5BC,IAD4B,CACrB,IADqB,CAE5BC,IAF4B,CAErB,IAFqB,iBAI9BR,QAAQ,CAAC,IAAD,CAAR,CACAE,UAAU,CAAC,IAAD,CAAV,CAL8B,sBAMjBO,CAAAA,KAAK,CAACJ,GAAD,CAAMC,OAAN,CANY,QAM9BC,IAN8B,sCAOjBA,CAAAA,IAAI,CAACC,IAAL,EAPiB,SAO9BA,IAP8B,kBAQzBD,IAAI,CAACG,EARoB,+BAStB,IAAIC,CAAAA,KAAJ,CAAUH,IAAI,CAACI,OAAf,CATsB,0FAY9BJ,IAAI,CAAG,IAAP,CACAR,QAAQ,CAAC,YAAIY,OAAL,CAAR,CAb8B,yBAe9BV,UAAU,CAAC,KAAD,CAAV,CACAJ,OAAO,CAACU,IAAD,CAAP,CAhB8B,gCAiBvB,CACLD,IAAI,CAAJA,IADK,CAELC,IAAI,CAAJA,IAFK,CAjBuB,6EAAlB,mEAsBb,EAtBa,CAAhB,CAwBA,MAAO,CACLX,IAAI,CAAJA,IADK,CAELI,OAAO,CAAPA,OAFK,CAGLF,KAAK,CAALA,KAHK,CAILI,OAAO,CAAPA,OAJK,CAAP,CAMD,CAnCD,CAqCA,cAAeR,CAAAA,QAAf","sourcesContent":["import React from 'react';\n\nconst useFetch = () => {\n  const [data, setData] = React.useState(null);\n  const [error, setError] = React.useState(null);\n  const [loading, setLoading] = React.useState(null);\n\n  const request = React.useCallback(async (url, options) => {\n    let resp = null;\n    let json = null;\n    try {\n      setError(null);\n      setLoading(true);\n      resp = await fetch(url, options);\n      json = await resp.json();\n      if (!resp.ok) {\n        throw new Error(json.message);\n      }\n    } catch (err) {\n      json = null;\n      setError(err.message);\n    } finally {\n      setLoading(false);\n      setData(json);\n      return {\n        resp,\n        json,\n      };\n    }\n  }, []);\n\n  return {\n    data,\n    loading,\n    error,\n    request,\n  };\n};\n\nexport default useFetch;\n"]},"metadata":{},"sourceType":"module"}