{"ast":null,"code":"import _regeneratorRuntime from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/raphael/Desktop/Origamid/React/ProjetoDogs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import Input from'../../../../Components/Form/Input';import Button from'../../../../Components/Form/Button';import Error from'../../../../Components/Helper/Error';import useForm from'../../../../Hooks/useForm';import{USER_POST}from'../../../../api';import{UserContext}from'../../../../UserContext';import useFetch from'../../../../Hooks/useFetch';function LoginCreate(){var username=useForm();var password=useForm();var email=useForm('email');var _React$useContext=React.useContext(UserContext),userLogin=_React$useContext.userLogin;var _useFetch=useFetch(),request=_useFetch.request,loading=_useFetch.loading,error=_useFetch.error;function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var data,_USER_POST,url,options,_yield$request,resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();data={username:username.value,password:password.value,email:email.value};_USER_POST=USER_POST(data),url=_USER_POST.url,options=_USER_POST.options;_context.next=5;return request(url,options);case 5:_yield$request=_context.sent;resp=_yield$request.resp;if(resp&&resp.ok){userLogin(data.username,data.password);}case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"section\",{className:\"animeLeft\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Cadastre-se\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Usu\\xE1rio\",type:\"text\",name:\"username\"},username)),/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Email\",type:\"email\",name:\"email\"},email)),/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Senha\",type:\"password\",name:\"password\"},password)),loading?/*#__PURE__*/_jsx(Button,{disabled:true,children:\" Cadastrando... \"}):/*#__PURE__*/_jsx(Button,{children:\"Cadastrar\"}),error&&/*#__PURE__*/_jsx(Error,{error:error})]})]});}export default LoginCreate;","map":{"version":3,"sources":["/home/raphael/Desktop/Origamid/React/ProjetoDogs/src/Pages/Login/Components/LoginCreate/index.js"],"names":["React","Input","Button","Error","useForm","USER_POST","UserContext","useFetch","LoginCreate","username","password","email","useContext","userLogin","request","loading","error","handleSubmit","event","preventDefault","data","value","url","options","resp","ok"],"mappings":"ykBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,mCAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oCAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qCAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CAEA,QAASC,CAAAA,WAAT,EAAuB,CACrB,GAAMC,CAAAA,QAAQ,CAAGL,OAAO,EAAxB,CACA,GAAMM,CAAAA,QAAQ,CAAGN,OAAO,EAAxB,CACA,GAAMO,CAAAA,KAAK,CAAGP,OAAO,CAAC,OAAD,CAArB,CAHqB,sBAICJ,KAAK,CAACY,UAAN,CAAiBN,WAAjB,CAJD,CAIbO,SAJa,mBAIbA,SAJa,eAKeN,QAAQ,EALvB,CAKbO,OALa,WAKbA,OALa,CAKJC,OALI,WAKJA,OALI,CAKKC,KALL,WAKKA,KALL,SAONC,CAAAA,YAPM,gJAOrB,iBAA4BC,KAA5B,sKACEA,KAAK,CAACC,cAAN,GACMC,IAFR,CAEe,CACXX,QAAQ,CAAEA,QAAQ,CAACY,KADR,CAEXX,QAAQ,CAAEA,QAAQ,CAACW,KAFR,CAGXV,KAAK,CAAEA,KAAK,CAACU,KAHF,CAFf,YAO2BhB,SAAS,CAACe,IAAD,CAPpC,CAOUE,GAPV,YAOUA,GAPV,CAOeC,OAPf,YAOeA,OAPf,uBASyBT,CAAAA,OAAO,CAACQ,GAAD,CAAMC,OAAN,CAThC,qCASUC,IATV,gBASUA,IATV,CAUE,GAAIA,IAAI,EAAIA,IAAI,CAACC,EAAjB,CAAqB,CACnBZ,SAAS,CAACO,IAAI,CAACX,QAAN,CAAgBW,IAAI,CAACV,QAArB,CAAT,CACD,CAZH,sDAPqB,+CAsBrB,mBACE,iBAAS,SAAS,CAAC,WAAnB,wBACE,WAAI,SAAS,CAAC,OAAd,yBADF,cAEE,cAAM,QAAQ,CAAEO,YAAhB,wBACE,KAAC,KAAD,gBAAO,KAAK,CAAC,YAAb,CAAuB,IAAI,CAAC,MAA5B,CAAmC,IAAI,CAAC,UAAxC,EAAuDR,QAAvD,EADF,cAEE,KAAC,KAAD,gBAAO,KAAK,CAAC,OAAb,CAAqB,IAAI,CAAC,OAA1B,CAAkC,IAAI,CAAC,OAAvC,EAAmDE,KAAnD,EAFF,cAGE,KAAC,KAAD,gBAAO,KAAK,CAAC,OAAb,CAAqB,IAAI,CAAC,UAA1B,CAAqC,IAAI,CAAC,UAA1C,EAAyDD,QAAzD,EAHF,CAIGK,OAAO,cACN,KAAC,MAAD,EAAQ,QAAQ,KAAhB,8BADM,cAGN,KAAC,MAAD,wBAPJ,CASGC,KAAK,eAAI,KAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EATZ,GAFF,GADF,CAgBD,CAED,cAAeR,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport Input from '../../../../Components/Form/Input';\nimport Button from '../../../../Components/Form/Button';\nimport Error from '../../../../Components/Helper/Error';\nimport useForm from '../../../../Hooks/useForm';\nimport { USER_POST } from '../../../../api';\nimport { UserContext } from '../../../../UserContext';\nimport useFetch from '../../../../Hooks/useFetch';\n\nfunction LoginCreate() {\n  const username = useForm();\n  const password = useForm();\n  const email = useForm('email');\n  const { userLogin } = React.useContext(UserContext);\n  const { request, loading, error } = useFetch();\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const data = {\n      username: username.value,\n      password: password.value,\n      email: email.value,\n    };\n    const { url, options } = USER_POST(data);\n\n    const { resp } = await request(url, options);\n    if (resp && resp.ok) {\n      userLogin(data.username, data.password);\n    }\n  }\n\n  return (\n    <section className=\"animeLeft\">\n      <h1 className=\"title\">Cadastre-se</h1>\n      <form onSubmit={handleSubmit}>\n        <Input label=\"UsuÃ¡rio\" type=\"text\" name=\"username\" {...username} />\n        <Input label=\"Email\" type=\"email\" name=\"email\" {...email} />\n        <Input label=\"Senha\" type=\"password\" name=\"password\" {...password} />\n        {loading ? (\n          <Button disabled> Cadastrando... </Button>\n        ) : (\n          <Button>Cadastrar</Button>\n        )}\n        {error && <Error error={error} />}\n      </form>\n    </section>\n  );\n}\n\nexport default LoginCreate;\n"]},"metadata":{},"sourceType":"module"}