{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/raphael/Desktop/Origamid/React/ProjetoDogs/src/Pages/User/Components/PhotoPost/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styles from './photopost.module.css';\nimport Input from '../../../../Components/Form/Input';\nimport Button from '../../../../Components/Form/Button';\nimport Error from '../../../../Components/Helper/Error';\nimport useForm from '../../../../Hooks/useForm';\nimport useFetch from '../../../../Hooks/useFetch';\nimport { PHOTO_POST } from '../../../../api';\n\nfunction PhotoPost() {\n  _s();\n\n  const nome = useForm();\n  const peso = useForm('number');\n  const idade = useForm('number');\n  const [img, setImg] = React.useState({});\n  const {\n    request,\n    error,\n    loading,\n    data\n  } = useFetch();\n\n  function handleImgChange({\n    target\n  }) {\n    setImg({\n      preview: URL.createObjectURL(target.files[0]),\n      raw: target.files[0]\n    });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('img', img.raw);\n    formData.append('nome', nome.value);\n    formData.append('peso', peso.raw);\n    formData.append('idade', idade.raw);\n    const token = window.localStorage.getItem('token');\n    const {\n      url,\n      options\n    } = PHOTO_POST(formData, token);\n    await request(url, options);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: `${styles.photoPost} animeLeft`,\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Input, { ...nome,\n        label: \"Nome\",\n        type: \"text\",\n        name: \"nome\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, { ...peso,\n        label: \"Peso\",\n        type: \"number\",\n        name: \"peso\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, { ...idade,\n        label: \"Idade\",\n        type: \"number\",\n        name: \"idade\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: styles.file,\n        onChange: handleImgChange,\n        label: \"img\",\n        type: \"file\",\n        name: \"img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Button, {\n        disabled: true,\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), img.preview && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.preview,\n      style: {\n        backgroundImage: `url('${img.preview}')`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Error, {\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PhotoPost, \"B9tjIkG44NcwxCOy5hJz5c/iY4I=\", false, function () {\n  return [useForm, useForm, useForm, useFetch];\n});\n\n_c = PhotoPost;\nexport default PhotoPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"PhotoPost\");","map":{"version":3,"sources":["/home/raphael/Desktop/Origamid/React/ProjetoDogs/src/Pages/User/Components/PhotoPost/index.js"],"names":["React","styles","Input","Button","Error","useForm","useFetch","PHOTO_POST","PhotoPost","nome","peso","idade","img","setImg","useState","request","error","loading","data","handleImgChange","target","preview","URL","createObjectURL","files","raw","handleSubmit","e","preventDefault","formData","FormData","append","value","token","window","localStorage","getItem","url","options","photoPost","file","backgroundImage"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,mCAAlB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,KAAP,MAAkB,qCAAlB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,UAAT,QAA2B,iBAA3B;;AAEA,SAASC,SAAT,GAAqB;AAAA;;AACnB,QAAMC,IAAI,GAAGJ,OAAO,EAApB;AACA,QAAMK,IAAI,GAAGL,OAAO,CAAC,QAAD,CAApB;AACA,QAAMM,KAAK,GAAGN,OAAO,CAAC,QAAD,CAArB;AACA,QAAM,CAACO,GAAD,EAAMC,MAAN,IAAgBb,KAAK,CAACc,QAAN,CAAe,EAAf,CAAtB;AACA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA,OAAlB;AAA2BC,IAAAA;AAA3B,MAAoCZ,QAAQ,EAAlD;;AAEA,WAASa,eAAT,CAAyB;AAAEC,IAAAA;AAAF,GAAzB,EAAqC;AACnCP,IAAAA,MAAM,CAAC;AACLQ,MAAAA,OAAO,EAAEC,GAAG,CAACC,eAAJ,CAAoBH,MAAM,CAACI,KAAP,CAAa,CAAb,CAApB,CADJ;AAELC,MAAAA,GAAG,EAAEL,MAAM,CAACI,KAAP,CAAa,CAAb;AAFA,KAAD,CAAN;AAID;;AACD,iBAAeE,YAAf,CAA4BC,CAA5B,EAA+B;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,KAAhB,EAAuBnB,GAAG,CAACa,GAA3B;AACAI,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBtB,IAAI,CAACuB,KAA7B;AACAH,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBrB,IAAI,CAACe,GAA7B;AACAI,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBpB,KAAK,CAACc,GAA/B;AAEA,UAAMQ,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd;AACA,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,QAAmB/B,UAAU,CAACsB,QAAD,EAAWI,KAAX,CAAnC;AAEA,UAAMlB,OAAO,CAACsB,GAAD,EAAMC,OAAN,CAAb;AACD;;AAED,sBACE;AAAS,IAAA,SAAS,EAAG,GAAErC,MAAM,CAACsC,SAAU,YAAxC;AAAA,4BACE;AAAM,MAAA,QAAQ,EAAEb,YAAhB;AAAA,8BACE,QAAC,KAAD,OAAWjB,IAAX;AAAiB,QAAA,KAAK,EAAC,MAAvB;AAA8B,QAAA,IAAI,EAAC,MAAnC;AAA0C,QAAA,IAAI,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD,OAAWC,IAAX;AAAiB,QAAA,KAAK,EAAC,MAAvB;AAA8B,QAAA,IAAI,EAAC,QAAnC;AAA4C,QAAA,IAAI,EAAC;AAAjD;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,KAAD,OAAWC,KAAX;AAAkB,QAAA,KAAK,EAAC,OAAxB;AAAgC,QAAA,IAAI,EAAC,QAArC;AAA8C,QAAA,IAAI,EAAC;AAAnD;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AACE,QAAA,SAAS,EAAEV,MAAM,CAACuC,IADpB;AAEE,QAAA,QAAQ,EAAErB,eAFZ;AAGE,QAAA,KAAK,EAAC,KAHR;AAIE,QAAA,IAAI,EAAC,MAJP;AAKE,QAAA,IAAI,EAAC;AALP;AAAA;AAAA;AAAA;AAAA,cAJF,EAYGF,OAAO,gBACN,QAAC,MAAD;AAAQ,QAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADM,gBAGN,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAmBGL,GAAG,CAACS,OAAJ,iBACC;AACE,MAAA,SAAS,EAAEpB,MAAM,CAACoB,OADpB;AAEE,MAAA,KAAK,EAAE;AAAEoB,QAAAA,eAAe,EAAG,QAAO7B,GAAG,CAACS,OAAQ;AAAvC;AAFT;AAAA;AAAA;AAAA;AAAA,YApBJ,eAyBE,QAAC,KAAD;AAAO,MAAA,KAAK,EAAEL;AAAd;AAAA;AAAA;AAAA;AAAA,YAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA6BD;;GAzDQR,S;UACMH,O,EACAA,O,EACCA,O,EAE4BC,Q;;;KALnCE,S;AA2DT,eAAeA,SAAf","sourcesContent":["import React from 'react';\nimport styles from './photopost.module.css';\nimport Input from '../../../../Components/Form/Input';\nimport Button from '../../../../Components/Form/Button';\nimport Error from '../../../../Components/Helper/Error';\nimport useForm from '../../../../Hooks/useForm';\nimport useFetch from '../../../../Hooks/useFetch';\nimport { PHOTO_POST } from '../../../../api';\n\nfunction PhotoPost() {\n  const nome = useForm();\n  const peso = useForm('number');\n  const idade = useForm('number');\n  const [img, setImg] = React.useState({});\n  const { request, error, loading, data } = useFetch();\n\n  function handleImgChange({ target }) {\n    setImg({\n      preview: URL.createObjectURL(target.files[0]),\n      raw: target.files[0],\n    });\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append('img', img.raw);\n    formData.append('nome', nome.value);\n    formData.append('peso', peso.raw);\n    formData.append('idade', idade.raw);\n\n    const token = window.localStorage.getItem('token');\n    const { url, options } = PHOTO_POST(formData, token);\n\n    await request(url, options);\n  }\n\n  return (\n    <section className={`${styles.photoPost} animeLeft`}>\n      <form onSubmit={handleSubmit}>\n        <Input {...nome} label=\"Nome\" type=\"text\" name=\"nome\" />\n        <Input {...peso} label=\"Peso\" type=\"number\" name=\"peso\" />\n        <Input {...idade} label=\"Idade\" type=\"number\" name=\"idade\" />\n        <input\n          className={styles.file}\n          onChange={handleImgChange}\n          label=\"img\"\n          type=\"file\"\n          name=\"img\"\n        />\n\n        {loading ? (\n          <Button disabled>Carregando...</Button>\n        ) : (\n          <Button>Enviar</Button>\n        )}\n      </form>\n      {img.preview && (\n        <div\n          className={styles.preview}\n          style={{ backgroundImage: `url('${img.preview}')` }}\n        ></div>\n      )}\n      <Error error={error} />\n    </section>\n  );\n}\n\nexport default PhotoPost;\n"]},"metadata":{},"sourceType":"module"}